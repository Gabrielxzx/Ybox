C51 COMPILER V9.00   EVENT                                                                 05/17/2015 19:37:51 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE EVENT
OBJECT MODULE PLACED IN event.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE inc\event\event.c BROWSE DEBUG OBJECTEXTEND PRINT(.\event.lst) OBJECT(event
                    -.obj)

line level    source

   1          /**
   2           * 事件相关
   3           * 洋子
   4           * purocean@gmail.com
   5           * 2015年5月11日22:05:00
   6           */
   7          
   8          #include <reg51.h>
   9          #include "event.h"
  10          #include "../timer/timer.h"
  11          #include "../lcd/nokia_5110.h"
  12          #include "../../menu/menu.h"
  13          
  14          bit KEY_UPWARD   = 0;
  15          bit KEY_LEFT     = 0;
  16          bit KEY_DOWNWARD = 0;
  17          bit KEY_RIGHT    = 0;
  18          bit KEY_A        = 0;
  19          bit KEY_B        = 0;
  20          bit KEY_EXIT     = 0;
  21          bit KEY_START    = 0;
  22          
  23          void event_scan_key(void){
  24   1          if(!P_EXIT && timer_delay_ms(9) && !P_EXIT){
  25   2              KEY_EXIT = 1;
  26   2          }else{
  27   2              KEY_EXIT = 0;
  28   2          }
  29   1      
  30   1          if(!P_START && timer_delay_ms(9) && !P_START){
  31   2              KEY_START = 1;
  32   2          }else{
  33   2              KEY_START = 0;
  34   2          }
  35   1      
  36   1          if(!P_UPWARD && timer_delay_ms(9) && !P_UPWARD){
  37   2              KEY_UPWARD = 1;
  38   2          }else{
  39   2              KEY_UPWARD = 0;
  40   2          }
  41   1      
  42   1          if(!P_LEFT && timer_delay_ms(9) && !P_LEFT){
  43   2              KEY_LEFT = 1;
  44   2          }else{
  45   2              KEY_LEFT = 0;
  46   2          }
  47   1      
  48   1          if(!P_DOWNWARD && timer_delay_ms(9) && !P_DOWNWARD){
  49   2              KEY_DOWNWARD = 1;
  50   2          }else{
  51   2              KEY_DOWNWARD = 0;
  52   2          }
  53   1      
  54   1          if(!P_RIGHT && timer_delay_ms(9) && !P_RIGHT){
C51 COMPILER V9.00   EVENT                                                                 05/17/2015 19:37:51 PAGE 2   

  55   2              KEY_RIGHT = 1;
  56   2          }else{
  57   2              KEY_RIGHT = 0;
  58   2          }
  59   1      
  60   1          if(!P_A && timer_delay_ms(9) && !P_A){
  61   2              KEY_A = 1;
  62   2          }else{
  63   2              KEY_A = 0;
  64   2          }
  65   1      
  66   1          if(!P_B && timer_delay_ms(9) && !P_B){
  67   2              KEY_B = 1;
  68   2          }else{
  69   2              KEY_B = 0;
  70   2          }
  71   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    208    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      8    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
